<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>厦门传统美食图鉴</title>
    <style>
        /* 全局样式重置 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }

        /* 全局背景：嘉庚风格保留 */
        body {
            background: linear-gradient(to bottom, #fafafa, #f5f0eb), 
                        url("https://picsum.photos/seed/jiagengbrick/200/200") repeat;
            background-attachment: fixed;
            background-opacity: 0.1;
            padding: 20px;
            min-height: 200vh;
            padding-right: 320px;
        }

        /* 头部标题样式：嘉庚风格保留 */
        header {
            text-align: center;
            margin-bottom: 60px;
            padding: 30px;
            background-color: #ffffff;
            border: 2px solid #eaeaea;
            border-bottom: 4px solid #c9a87c;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(153, 120, 80, 0.15);
            position: relative;
        }
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 12px;
            background: linear-gradient(to right, #b83b26, #d45a3c, #b83b26);
            border-radius: 8px 8px 0 0;
        }

        header h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 10px;
            margin-top: 8px;
        }

        header p {
            color: #7f8c8d;
            font-size: 1.2rem;
        }

        /* 美食容器样式：单列布局保留 */
        .food-container {
            display: block;
            max-width: 800px;
            margin: 0 auto;
        }

        /* 美食卡片样式：嘉庚风格保留 */
        .food-card {
            background-color: #ffffff;
            border: 2px solid #f0eae5;
            border-bottom: 4px solid #c9a87c;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(153, 120, 80, 0.12);
            overflow: hidden;
            margin-bottom: 80px;
            opacity: 0;
            transform: translateY(80px);
            transition: opacity 1s ease, transform 1s ease, box-shadow 0.3s ease;
            cursor: default;
            position: relative;
        }
        .food-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 6px;
            height: 100%;
            background: linear-gradient(to bottom, #b83b26, #d45a3c, #b83b26);
        }

        .food-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .food-card.visible:hover {
            box-shadow: 0 8px 20px rgba(153, 120, 80, 0.18);
        }

        /* 美食图片样式：嘉庚风格保留 */
        .food-img {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-bottom: 3px solid #b83b26;
        }

        /* 视频标题：嘉庚风格保留 */
        .video-title {
            padding: 15px 20px;
            background-color: #f8f3ef;
            color: #b83b26;
            font-size: 1.2rem;
            font-weight: bold;
            border-bottom: 1px solid #f0eae5;
        }

        /* 新增：B站视频嵌入容器（替换原video样式，保持布局一致） */
        .bilibili-video {
            width: 100%;
            height: 350px; /* 与原视频高度一致，适配布局 */
            border: none; /* 取消边框，美观 */
            display: block; /* 避免默认间距 */
            border-bottom: 2px solid #c9a87c; /* 嘉庚风格白石边框，与原视频一致 */
        }

        /* 美食信息样式：嘉庚风格保留 */
        .food-info {
            padding: 30px;
        }

        .food-info h2 {
            color: #b83b26;
            font-size: 2rem;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 2px dashed #c9a87c;
            padding-bottom: 15px;
        }

        .food-info p {
            color: #34495e;
            font-size: 1.1rem;
            line-height: 1.8;
            text-align: justify;
            margin-bottom: 15px;
        }

        /* 底部样式：嘉庚风格保留 */
        footer {
            text-align: center;
            margin-top: 100px;
            padding: 30px;
            color: #7f8c8d;
            font-size: 1.1rem;
            background-color: #ffffff;
            border: 2px solid #eaeaea;
            border-bottom: 4px solid #c9a87c;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(153, 120, 80, 0.15);
            position: relative;
        }
        footer::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 12px;
            background: linear-gradient(to right, #b83b26, #d45a3c, #b83b26);
            border-radius: 8px 8px 0 0;
        }
        footer p {
            margin-top: 8px;
        }

        /* 右侧导航栏样式：保留原有优化后的样式 */
        .right-nav {
            position: fixed;
            top: 50%;
            right: 50px;
            transform: translateY(-50%);
            background-color: #ffffff;
            border: 2px solid #f0eae5;
            border-bottom: 4px solid #c9a87c;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(153, 120, 80, 0.15);
            width: 250px;
            padding: 20px;
            z-index: 999;
        }

        .food-nav-list {
            list-style: none;
            margin-bottom: 25px;
        }
        .food-nav-item {
            margin-bottom: 12px;
            border-radius: 6px;
            transition: background-color 0.3s ease;
        }
        .food-nav-item:last-child {
            margin-bottom: 0;
        }
        .food-nav-link {
            display: block;
            padding: 10px 15px;
            color: #34495e;
            text-decoration: none;
            font-size: 1rem;
            border-radius: 6px;
            transition: all 0.3s ease;
        }
        .food-nav-item.active .food-nav-link {
            background-color: #f8f3ef;
            color: #b83b26;
            font-weight: bold;
            border-left: 3px solid #b83b26;
            padding-left: 12px;
        }
        .food-nav-item:hover .food-nav-link {
            background-color: #fafafa;
            color: #b83b26;
        }

        .back-to-top {
            width: 100%;
            padding: 12px;
            background-color: #b83b26;
            color: #ffffff;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
            text-align: center;
            display: block;
            text-decoration: none;
            margin-top: 20px;
        }
        .back-to-top:hover {
            background-color: #d45a3c;
        }
    </style>
</head>
<body>
    <!-- 头部标题（锚点id保留） -->
    <header id="pageTop">
        <h1>厦门传统美食图鉴</h1>
        <p>品味闽南风味，感受鹭岛烟火气</p>
    </header>

    <!-- 右侧导航栏：保留原有结构 -->
    <div class="right-nav" id="rightNav">
        <ul class="food-nav-list" id="foodNavList">
            <!-- 美食导航项动态生成 -->
        </ul>
        <a href="#pageTop" class="back-to-top" id="backToTop">回到网页顶端</a>
    </div>

    <!-- 美食展示容器 - 单列布局 -->
    <div class="food-container" id="foodContainer">
        <!-- 美食卡片动态生成 -->
    </div>

    <!-- 底部信息 -->
    <footer>
        <p>© 2026 厦门美食图鉴</p>
    </footer>

    <script>
        // 1. 定义厦门传统美食数据（更新视频配置：替换为B站嵌入地址，删除原videoCover）
        const xiamenFoods = [
            {
                id: "food1",
                name: "沙茶面",
                imgUrl: "https://th.bing.com/th/id/OIP.BoyvqXdPZOQPr1N0LZjmOQHaE8?w=263&h=180&c=7&r=0&o=7&dpr=1.5&pid=1.7&rm=3",
                // 替换为你的B站视频嵌入src（从B站嵌入代码中复制src属性值，去掉前后引号）
                bilibiliSrc: "<iframe src=\"//player.bilibili.com/player.html?isOutside=true&aid=115791345293881&bvid=BV1KHByBhEW9&cid=35016673027&p=1\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"></iframe>",
                description: "厦门标志性传统美食，源自东南亚沙茶风味与闽南面食的完美融合。汤底以沙茶酱为核心，搭配骨汤熬制，色泽红亮，鲜香浓郁，咸中带甜，微辣回甘。配料极为丰富，常见的有虾仁、鱿鱼、鱼丸、豆腐泡、青菜等，面条多选用劲道的碱水面，拌匀后每一根面条都裹满浓郁汤底，口感层次丰富，是厦门人早餐和正餐的首选。"
            },
            {
                id: "food2",
                name: "土笋冻",
                imgUrl: "https://th.bing.com/th/id/OIP.e2jC5zIQbHV_EkYaYTWN9QHaHa?w=143&h=180&c=7&r=0&o=7&dpr=1.5&pid=1.7&rm=3",
                // 替换为你的B站视频嵌入src
                bilibiliSrc: "<iframe src=\"//player.bilibili.com/player.html?isOutside=true&aid=115751918770754&bvid=BV1u6qrBoE9N&cid=34866071044&p=1\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"></iframe>",
                description: "厦门极具特色的传统小吃，堪称“闽南奇味”。其原料并非竹笋，而是一种生活在沿海滩涂的星虫（俗称“土笋”）。制作时将土笋熬煮，其体内的胶质会慢慢析出，冷却后自然凝固成晶莹剔透的冻状，形似果冻。成品土笋冻色泽洁白，口感Q弹爽滑，食用时蘸上醋、芥末、蒜蓉、酱油等调料，鲜而不腥，清爽可口，不仅是特色美食，还具有一定的营养价值。"
            },
            {
                id: "food3",
                name: "烧肉粽",
                imgUrl: "https://th.bing.com/th/id/OIP.iu_bCAnKqMNXCL8boSTsywHaDF?w=343&h=145&c=7&r=0&o=7&dpr=1.5&pid=1.7&rm=3",
                // 替换为你的B站视频嵌入src
                bilibiliSrc: "<iframe src=\"//player.bilibili.com/player.html?isOutside=true&aid=711192201&bvid=BV1vD4y1Q7Ed&cid=205625961&p=1\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"></iframe>",
                description: "厦门烧肉粽区别于北方甜粽，是闽南咸粽的代表，以“料足味浓”闻名。粽叶选用清香的箬叶或竹叶，糯米提前用酱油、盐等调味腌制，内馅极为丰富，核心配料是肥瘦相间的五花肉（经卤制或腌制，油润不腻），搭配板栗、香菇、干贝、虾仁、蛋黄等食材。煮熟后的烧肉粽软糯鲜香，糯米吸饱了肉香和粽叶香，内馅口感丰富，食用时可蘸花生酱、甜辣酱或蒜蓉酱，风味更佳。"
            },
            {
                id: "food4",
                name: "海蛎煎（蚵仔煎）",
                imgUrl: "https://th.bing.com/th/id/OIP.2P0FEToLFuptgPTXka0DBQHaE8?w=292&h=180&c=7&r=0&o=7&dpr=1.5&pid=1.7&rm=30",
                // 替换为你的B站视频嵌入src
                bilibiliSrc: "<iframe src=\"//player.bilibili.com/player.html?isOutside=true&aid=115388322944419&bvid=BV1AGWCzqEUK&cid=33148438032&p=1\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"></iframe>",
                description: "闽南经典传统小吃，厦门街头巷尾随处可见。原料选用新鲜饱满的海蛎（闽南称“蚵仔”），搭配地瓜粉、鸡蛋、葱花调制而成。制作时先将海蛎与地瓜粉浆拌匀，倒入热油锅中煎至定型，再淋上蛋液，煎至两面金黄酥脆，内里鲜嫩多汁。成品外酥里嫩，海蛎的鲜与鸡蛋的香完美融合，食用时蘸上闽南特色甜辣酱，解腻增香，是厦门人喜爱的街头美食和下酒菜。"
            }
        ];

        // 2. 获取DOM元素（保留原有核心元素）
        const foodContainer = document.getElementById("foodContainer");
        const foodNavList = document.getElementById("foodNavList");
        const backToTop = document.getElementById("backToTop");
        let foodCards = [];
        let foodNavItems = [];

        // 3. 动态生成美食卡片（替换视频区域为iframe，适配B站播放）
        function renderFoodCards() {
            xiamenFoods.forEach(food => {
                // 创建卡片容器
                const foodCard = document.createElement("div");
                foodCard.className = "food-card";
                foodCard.id = food.id;

                // 创建美食图片
                const foodImg = document.createElement("img");
                foodImg.className = "food-img";
                foodImg.src = food.imgUrl;
                foodImg.alt = `${food.name} 实拍图`;
                foodImg.onerror = function() {
                    this.src = "https://picsum.photos/1200/800";
                };

                // 创建视频标题
                const videoTitle = document.createElement("div");
                videoTitle.className = "video-title";
                videoTitle.textContent = `${food.name} - 美食制作/食用视频（B站）`;

                // 新增：创建iframe元素，嵌入B站视频（替换原video元素）
                const bilibiliIframe = document.createElement("iframe");
                bilibiliIframe.className = "bilibili-video";
                bilibiliIframe.src = food.bilibiliSrc; // 绑定B站嵌入地址
                bilibiliIframe.scrolling = "no"; // 取消滚动条
                bilibiliIframe.frameBorder = "0"; // 取消框架边框
                bilibiliIframe.allowFullscreen = true; // 允许全屏播放
                bilibiliIframe.title = `${food.name} B站视频`; // 无障碍标题

                // 创建美食信息
                const foodInfo = document.createElement("div");
                foodInfo.className = "food-info";
                const foodName = document.createElement("h2");
                foodName.textContent = food.name;
                const foodDesc = document.createElement("p");
                foodDesc.textContent = food.description;

                // 组装元素（保持：图片→视频标题→B站iframe→文字信息 布局不变）
                foodInfo.appendChild(foodName);
                foodInfo.appendChild(foodDesc);
                foodCard.appendChild(foodImg);
                foodCard.appendChild(videoTitle);
                foodCard.appendChild(bilibiliIframe); // 替换原video为iframe
                foodCard.appendChild(foodInfo);

                // 添加到容器并存储
                foodContainer.appendChild(foodCard);
                foodCards.push(foodCard);
            });
        }

        // 4. 动态生成右侧美食导航项（保留原有功能）
        function renderFoodNav() {
            xiamenFoods.forEach((food, index) => {
                const navItem = document.createElement("li");
                navItem.className = "food-nav-item";
                navItem.dataset.index = index;

                const navLink = document.createElement("a");
                navLink.className = "food-nav-link";
                navLink.href = `#${food.id}`;
                navLink.textContent = food.name;

                // 平滑滚动跳转
                navLink.addEventListener("click", function(e) {
                    e.preventDefault();
                    const targetFoodCard = document.getElementById(food.id);
                    targetFoodCard.scrollIntoView({
                        behavior: "smooth",
                        block: "center"
                    });
                });

                navItem.appendChild(navLink);
                foodNavList.appendChild(navItem);
                foodNavItems.push(navItem);
            });
        }

        // 5. 视口判断函数（保留原有功能）
        function isElementInViewport(el) {
            const rect = el.getBoundingClientRect();
            const viewportHeight = window.innerHeight || document.documentElement.clientHeight;
            const viewportWidth = window.innerWidth || document.documentElement.clientWidth;
            return (
                rect.top >= -200 &&
                rect.left >= 0 &&
                rect.bottom <= viewportHeight + 200 &&
                rect.right <= viewportWidth
            );
        }

        // 6. 滚动监听（保留原有功能）
        function onScrollHandler() {
            foodCards.forEach((card, index) => {
                // 卡片显示逻辑
                if (isElementInViewport(card) && !card.classList.contains("visible")) {
                    card.classList.add("visible");
                }

                // 导航项高亮逻辑
                if (isElementInViewport(card)) {
                    foodNavItems.forEach(item => item.classList.remove("active"));
                    foodNavItems[index].classList.add("active");
                }
            });
        }

        // 7. 回到顶端功能（保留原有功能）
        function initBackToTop() {
            backToTop.addEventListener("click", function(e) {
                e.preventDefault();
                document.getElementById("pageTop").scrollIntoView({
                    behavior: "smooth",
                    block: "start"
                });
                setTimeout(() => {
                    foodNavItems.forEach(item => item.classList.remove("active"));
                }, 500);
            });
        }

        // 8. 页面初始化
        window.onload = function() {
            renderFoodCards();
            renderFoodNav();
            initBackToTop();
            onScrollHandler();
            console.log("厦门美食卡片（B站视频嵌入版）渲染完成！");
        };

        // 9. 绑定滚动事件
        window.addEventListener("scroll", onScrollHandler);
    </script>
</body>
</html>